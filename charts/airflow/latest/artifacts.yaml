name: airflow
repo: apache-airflow
url: https://airflow.apache.org
chart: apache-airflow/airflow
version: 1.16.0

dependencies:
  - postgres
  - redis

#resources:
#  configmap:
#    message: "📁 Enter the path to your DAGs folder:"
#    key: dags.existingConfigmap
#    name: "airflow-dags"
#
#prompts:
#  - message: "📁 Enter the path to your DAGs folder:"
#    key: extraVolumes.0.hostPath.path
#
executables:
  - name: FernKey
    command: openssl rand -base64 32
    message: "🔑 Generating a Fernet key for Airflow authentication..."
    key: env.0.value.AIRFLOW__CORE__FERNET_KEY
  - name: SecretKey
    command: openssl rand -base64 32
    message: "🔑 Generating a secret key for WebApp..."
    key: env.1.value.AIRFLOW__WEBSERVER__SECRET_KEY
#  - name: JWT Secret Key
#    command: openssl rand -base64 32
#    message: "🔑 Generate a JWT secret key for Airflow authentication..."
#    key: auth.jwtSecretKey